{% extends "admin/base.html" %}
{% comment %}
SPDX-License-Identifier: GPL-2.0-or-later
{% endcomment %}

{% load i18n staticfiles %}

{% block title %}{{ title }} | {{ request.site.name }}{% endblock %}

{% block branding %}
    <h1 id="site-name">
	    <a href="{% url 'admin:index' %}">
            {{ request.site.name }}
        </a>
    </h1>
{% endblock %}

{% block nav-global %}
    <div id="nav">
        {% if available_apps %}
            {% for app in available_apps %}
                <div class="dropdown">
                    {% if app_list|length == 1 and app.name == app_list.0.name %}
                        <a href="{{ app.app_url }}" class="activated">{{ app.name }}</a>
                    {% else %}
                        <a href="{{ app.app_url }}">{{ app.name }}</a>
                    {% endif %}
                    <div class="dropdown-content">
                        {% for model in app.models %}
                            {% if model.admin_url %}
                                <a href="{{ model.admin_url }}">{{ model.name }}</a>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                {% if not forloop.last %}/{% endif %}
            {% endfor %}
        {% endif %}
    </div>
{% endblock %}

{% block extrastyle %}
    <link rel="stylesheet" type="text/css" href="{% static "css/admin.css" %}"/>
{% endblock %}

{% block footer %}
    <div id="footer">
        <p>
            {{ request.site.name }}
        </p>
        <p>
            {% blocktrans trimmed %}
                This software is under the terms of the
                <a href="http://www.gnu.org/licenses/gpl-2.0.txt" target="_blank" rel="nofollow">GPLv2</a> License.
            {% endblocktrans %}
        </p>
        <form action="{% url 'set_language' %}" method="post">
            {% csrf_token %}
            <select title="language" name="language" onchange="this.form.submit()">
                {% get_current_language as LANGUAGE_CODE %}
                {% get_available_languages as LANGUAGES %}
                {% get_language_info_list for LANGUAGES as languages %}
                {% for language in languages %}
                    <option value="{{ language.code }}"{% if language.code == LANGUAGE_CODE %} selected{% endif %}>
                        {{ language.name_local }} ({{ language.code }})
                    </option>
                {% endfor %}
            </select>
            <noscript>
                <input type="submit">
            </noscript>
        </form>
    </div>
{% endblock %}
